{
  "info": {
    "name": "ECONEURA API",
    "description": "ERP/CRM + IA + 60 agentes en Azure - API completa con Analytics, Security, FinOps y m√°s",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3001",
      "type": "string"
    },
    {
      "key": "org_id",
      "value": "demo-org",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "user_123",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health & Monitoring",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          },
          "response": []
        },
        {
          "name": "Liveness Probe",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/live",
              "host": ["{{base_url}}"],
              "path": ["health", "live"]
            }
          },
          "response": []
        },
        {
          "name": "Readiness Probe",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health/ready",
              "host": ["{{base_url}}"],
              "path": ["health", "ready"]
            }
          },
          "response": []
        },
        {
          "name": "Prometheus Metrics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/metrics",
              "host": ["{{base_url}}"],
              "path": ["metrics"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Track Event",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"eventType\": \"user_action\",\n  \"action\": \"login\",\n  \"entityType\": \"user\",\n  \"entityId\": \"{{user_id}}\",\n  \"userId\": \"{{user_id}}\",\n  \"orgId\": \"{{org_id}}\",\n  \"metadata\": {\n    \"source\": \"web\",\n    \"timestamp\": \"{{$timestamp}}\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/v1/analytics/events",
              "host": ["{{base_url}}"],
              "path": ["v1", "analytics", "events"]
            }
          },
          "response": []
        },
        {
          "name": "Query Events",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v1/analytics/events?eventType=user_action&limit=10",
              "host": ["{{base_url}}"],
              "path": ["v1", "analytics", "events"],
              "query": [
                {
                  "key": "eventType",
                  "value": "user_action"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Advanced Analytics",
      "item": [
        {
          "name": "Get Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/advanced-analytics/dashboard?timeRange=24h",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-analytics", "dashboard"],
              "query": [
                {
                  "key": "timeRange",
                  "value": "24h"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Business Intelligence",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/advanced-analytics/business-intelligence",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-analytics", "business-intelligence"]
            }
          },
          "response": []
        },
        {
          "name": "Track Advanced Event",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"eventType\": \"business_action\",\n  \"action\": \"create_deal\",\n  \"entityType\": \"deal\",\n  \"entityId\": \"deal_123\",\n  \"userId\": \"{{user_id}}\",\n  \"orgId\": \"{{org_id}}\",\n  \"metadata\": {\n    \"amount\": 5000,\n    \"stage\": \"prospect\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/v1/advanced-analytics/events",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-analytics", "events"]
            }
          },
          "response": []
        },
        {
          "name": "Export Analytics Data",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/advanced-analytics/export?format=json",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-analytics", "export"],
              "query": [
                {
                  "key": "format",
                  "value": "json"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Security",
      "item": [
        {
          "name": "Detect Threat",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ipAddress\": \"192.168.1.100\",\n  \"userAgent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\",\n  \"endpoint\": \"/api/test\",\n  \"method\": \"POST\",\n  \"userId\": \"{{user_id}}\",\n  \"orgId\": \"{{org_id}}\",\n  \"body\": {\n    \"test\": \"data\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/v1/advanced-security/threats/detect",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-security", "threats", "detect"]
            }
          },
          "response": []
        },
        {
          "name": "Get Security Metrics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/advanced-security/metrics",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-security", "metrics"]
            }
          },
          "response": []
        },
        {
          "name": "Get Security Events",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/advanced-security/events",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-security", "events"]
            }
          },
          "response": []
        },
        {
          "name": "Check IP Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v1/advanced-security/ip/192.168.1.100/status",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-security", "ip", "192.168.1.100", "status"]
            }
          },
          "response": []
        },
        {
          "name": "Security Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v1/advanced-security/health",
              "host": ["{{base_url}}"],
              "path": ["v1", "advanced-security", "health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "FinOps",
      "item": [
        {
          "name": "Get Budgets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/finops/budgets",
              "host": ["{{base_url}}"],
              "path": ["v1", "finops", "budgets"]
            }
          },
          "response": []
        },
        {
          "name": "Create Budget",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"organizationId\": \"{{org_id}}\",\n  \"name\": \"Monthly Budget\",\n  \"amount\": 1000,\n  \"currency\": \"EUR\",\n  \"period\": \"monthly\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/v1/finops/budgets",
              "host": ["{{base_url}}"],
              "path": ["v1", "finops", "budgets"]
            }
          },
          "response": []
        },
        {
          "name": "Get Costs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/finops/costs",
              "host": ["{{base_url}}"],
              "path": ["v1", "finops", "costs"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "GDPR",
      "item": [
        {
          "name": "Export User Data",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/gdpr/export?userId={{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["v1", "gdpr", "export"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{user_id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Erase User Data",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/gdpr/erase/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["v1", "gdpr", "erase", "{{user_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Audit Log",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/gdpr/audit",
              "host": ["{{base_url}}"],
              "path": ["v1", "gdpr", "audit"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "SEPA",
      "item": [
        {
          "name": "Parse SEPA File",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"xmlData\": \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<Document xmlns=\\\"urn:iso:std:iso:20022:tech:xsd:camt.053.001.02\\\">\\n  <BkToCstmrStmt>\\n    <Stmt>\\n      <Id>12345</Id>\\n      <CreDtTm>2024-01-01T00:00:00Z</CreDtTm>\\n    </Stmt>\\n  </BkToCstmrStmt>\\n</Document>\",\n  \"orgId\": \"{{org_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/v1/sepa/parse",
              "host": ["{{base_url}}"],
              "path": ["v1", "sepa", "parse"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Events (SSE)",
      "item": [
        {
          "name": "Get SSE Events",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "text/event-stream"
              },
              {
                "key": "X-Org-ID",
                "value": "{{org_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/v1/events",
              "host": ["{{base_url}}"],
              "path": ["v1", "events"]
            }
          },
          "response": []
        },
        {
          "name": "Broadcast Event",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"notification\",\n  \"data\": {\n    \"message\": \"Test broadcast message\",\n    \"timestamp\": \"{{$timestamp}}\"\n  },\n  \"orgId\": \"{{org_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/v1/events/broadcast",
              "host": ["{{base_url}}"],
              "path": ["v1", "events", "broadcast"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "OpenAPI Documentation",
      "item": [
        {
          "name": "Get OpenAPI Spec (JSON)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v1/openapi/openapi.json",
              "host": ["{{base_url}}"],
              "path": ["v1", "openapi", "openapi.json"]
            }
          },
          "response": []
        },
        {
          "name": "Get OpenAPI Spec (YAML)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v1/openapi/openapi.yaml",
              "host": ["{{base_url}}"],
              "path": ["v1", "openapi", "openapi.yaml"]
            }
          },
          "response": []
        },
        {
          "name": "Get API Documentation",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v1/openapi/docs",
              "host": ["{{base_url}}"],
              "path": ["v1", "openapi", "docs"]
            }
          },
          "response": []
        },
        {
          "name": "Get API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/v1/openapi/info",
              "host": ["{{base_url}}"],
              "path": ["v1", "openapi", "info"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
