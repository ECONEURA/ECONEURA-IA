{
  "metadata": {
    "generated": "2024-09-08T12:00:00Z",
    "version": "1.0",
    "total_prs": 86,
    "completed_prs": 23,
    "completion_percentage": 27,
    "deploy_enabled": false,
    "skip_release": true
  },
  "prs": [
    {
      "id": "PR-00",
      "title": "Bootstrap monorepo",
      "scope": "Turborepo/PNPM workspaces scripts base",
      "touched_files": ["package.json", "pnpm-workspace.yaml", "turbo.json"],
      "tests": ["build", "lint", "typecheck"],
      "risk": "low",
      "dependencies": [],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-01",
      "title": "Lint/Format/Types",
      "scope": "ESLint/Prettier/TSConfig compartidos",
      "touched_files": [".eslintrc.cjs", ".prettierrc", "tsconfig.base.json"],
      "tests": ["lint", "format", "typecheck"],
      "risk": "low",
      "dependencies": ["PR-00"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-02",
      "title": "Infra Docker local",
      "scope": "DB/Prometheus/Grafana/Jaeger",
      "touched_files": ["docker-compose.yml", "Dockerfile.optimized"],
      "tests": ["docker:up", "health checks"],
      "risk": "medium",
      "dependencies": ["PR-00"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-03",
      "title": "Drizzle + esquema inicial",
      "scope": "tablas core y migraciones",
      "touched_files": ["packages/db/src/schema.ts", "packages/db/migrations/"],
      "tests": ["db:migrate", "db:seed"],
      "risk": "medium",
      "dependencies": ["PR-02"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-04",
      "title": "Next 14 (App Router)",
      "scope": "esqueleto web",
      "touched_files": ["apps/web/src/app/", "apps/web/next.config.js"],
      "tests": ["/health endpoint", "build"],
      "risk": "low",
      "dependencies": ["PR-01"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-05",
      "title": "Express API",
      "scope": "esqueleto /v1/ping",
      "touched_files": ["apps/api/src/index.ts", "apps/api/src/routes/"],
      "tests": ["supertest", "integration tests"],
      "risk": "low",
      "dependencies": ["PR-03"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-06",
      "title": "Auth minimal",
      "scope": "JWT y guard de org",
      "touched_files": ["apps/api/src/middleware/auth.ts", "packages/shared/src/schemas/auth.ts"],
      "tests": ["auth middleware", "protected routes"],
      "risk": "medium",
      "dependencies": ["PR-05"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-07",
      "title": "Auth+RLS",
      "scope": "políticas RLS iniciales",
      "touched_files": ["packages/db/src/schema.ts", "apps/api/src/middleware/rls.ts"],
      "tests": ["RLS policies", "cross-tenant isolation"],
      "risk": "high",
      "dependencies": ["PR-06"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-08",
      "title": "BFF Proxy",
      "scope": "cliente API y proxy seguro",
      "touched_files": ["apps/web/src/lib/api-client.ts", "apps/web/src/app/api/econeura/"],
      "tests": ["proxy functionality", "IA/Search routing"],
      "risk": "medium",
      "dependencies": ["PR-07"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-09",
      "title": "UI/Iconos",
      "scope": "lucide + estilos base",
      "touched_files": ["apps/web/src/components/", "apps/web/tailwind.config.js"],
      "tests": ["bundle analysis", "icon imports"],
      "risk": "low",
      "dependencies": ["PR-04"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-10",
      "title": "Observabilidad base",
      "scope": "OTel + Prometheus counters",
      "touched_files": ["packages/shared/src/otel/", "apps/api/src/middleware/observability.ts"],
      "tests": ["metrics collection", "tracing"],
      "risk": "medium",
      "dependencies": ["PR-05"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-11",
      "title": "CI/CD pipeline",
      "scope": "build/test en PR cache artefactos",
      "touched_files": [".github/workflows/", "turbo.json"],
      "tests": ["CI pipeline", "build cache"],
      "risk": "medium",
      "dependencies": ["PR-10"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-12",
      "title": "CRM Interactions v1",
      "scope": "timeline + notas",
      "touched_files": ["apps/api/src/routes/interactions.ts", "packages/db/src/schema.ts"],
      "tests": ["CRUD operations", "timeline functionality"],
      "risk": "medium",
      "dependencies": ["PR-07"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-13",
      "title": "Features avanzadas v1",
      "scope": "analítica simple IA básica",
      "touched_files": ["apps/api/src/services/", "apps/api/src/controllers/"],
      "tests": ["endpoint coverage", "analytics functionality"],
      "risk": "high",
      "dependencies": ["PR-12"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-14",
      "title": "Plataforma IA v1",
      "scope": "router IA TTS imágenes",
      "touched_files": ["packages/shared/src/ai/", "apps/api/src/routes/ai.ts"],
      "tests": ["AI routing", "demo mode"],
      "risk": "high",
      "dependencies": ["PR-13"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-15",
      "title": "Azure OpenAI+BFF",
      "scope": "integración real",
      "touched_files": ["apps/api/src/services/azure-openai.service.ts", "apps/web/src/lib/"],
      "tests": ["Azure integration", "FinOps headers"],
      "risk": "high",
      "dependencies": ["PR-14"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-16",
      "title": "Products v1",
      "scope": "CRUD productos",
      "touched_files": ["apps/api/src/routes/products.ts", "packages/db/src/schema.ts"],
      "tests": ["product CRUD", "migrations"],
      "risk": "medium",
      "dependencies": ["PR-07"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-17",
      "title": "Invoices v1",
      "scope": "CRUD + PDF simple",
      "touched_files": ["apps/api/src/routes/invoices.ts", "apps/api/src/services/invoices.service.ts"],
      "tests": ["invoice CRUD", "PDF generation"],
      "risk": "medium",
      "dependencies": ["PR-16"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-18",
      "title": "Inventory v1",
      "scope": "movimientos y saldos",
      "touched_files": ["apps/api/src/routes/inventory.ts", "packages/db/src/schema.ts"],
      "tests": ["inventory movements", "Kardex basic"],
      "risk": "medium",
      "dependencies": ["PR-16"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-19",
      "title": "Suppliers v1",
      "scope": "CRUD proveedores",
      "touched_files": ["apps/api/src/routes/suppliers.ts", "packages/db/src/schema.ts"],
      "tests": ["supplier CRUD", "basic relationships"],
      "risk": "medium",
      "dependencies": ["PR-16"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-20",
      "title": "Payments v1",
      "scope": "link a invoices",
      "touched_files": ["apps/api/src/routes/payments.ts", "packages/db/src/schema.ts"],
      "tests": ["payment linking", "minimal states"],
      "risk": "medium",
      "dependencies": ["PR-17"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-21",
      "title": "README/Docs base",
      "scope": "guía rápida y contribución",
      "touched_files": ["README.md", "docs/"],
      "tests": ["documentation completeness"],
      "risk": "low",
      "dependencies": ["PR-20"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-22",
      "title": "Health & degradación",
      "scope": "endpoints live/ready/degraded web+api con X-System-Mode",
      "touched_files": ["apps/api/src/routes/health.ts", "apps/web/src/app/health/"],
      "tests": ["health endpoints", "degradation modes"],
      "risk": "medium",
      "dependencies": ["PR-21"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-23",
      "title": "Alertas Teams + quiet hours",
      "scope": "servicio alerts.service con agrupación y horario",
      "touched_files": ["apps/api/src/services/alerts.service.ts", "apps/workers/src/"],
      "tests": ["alert functionality", "quiet hours"],
      "risk": "medium",
      "dependencies": ["PR-22"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-24",
      "title": "Analytics tipadas",
      "scope": "packages/shared/analytics.ts API /v1/analytics/events métricas controladas",
      "touched_files": ["packages/shared/src/analytics.ts", "apps/api/src/routes/analytics.ts"],
      "tests": ["event storage", "typed analytics"],
      "risk": "medium",
      "dependencies": ["PR-23"],
      "completion_pct": 10,
      "blockers": ["duplicados en DUP_REPORT.md"],
      "decision": "replan"
    },
    {
      "id": "PR-25",
      "title": "Biblioteca de prompts (aprobación)",
      "scope": "versión+approve BFF sólo approved",
      "touched_files": ["packages/shared/src/ai/prompts.ts", "apps/web/src/lib/"],
      "tests": ["prompt approval", "negative/positive tests"],
      "risk": "high",
      "dependencies": ["PR-24"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-26",
      "title": "Caché IA/Search + warm-up",
      "scope": "Redis/LRU + cron",
      "touched_files": ["apps/api/src/services/cache.service.ts", "apps/workers/src/"],
      "tests": ["cache hit/miss", "warm-up functionality"],
      "risk": "medium",
      "dependencies": ["PR-25"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-27",
      "title": "Zod integral en API",
      "scope": "middleware validate + negativos",
      "touched_files": ["apps/api/src/middleware/validation.ts", "packages/shared/src/schemas/"],
      "tests": ["validation middleware", "400 responses"],
      "risk": "medium",
      "dependencies": ["PR-26"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-28",
      "title": "Helmet/CORS + CSP/SRI",
      "scope": "middleware API y CSP en Web",
      "touched_files": ["apps/api/src/middleware/security.ts", "apps/web/src/lib/csp.ts"],
      "tests": ["security headers", "CSP validation"],
      "risk": "high",
      "dependencies": ["PR-27"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-29",
      "title": "Rate-limit org + Budget guard",
      "scope": "sliding window + barra consumo",
      "touched_files": ["apps/api/src/middleware/rate-limit-org.ts", "apps/api/src/middleware/finops.ts"],
      "tests": ["rate limiting", "budget thresholds"],
      "risk": "medium",
      "dependencies": ["PR-28"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    },
    {
      "id": "PR-30",
      "title": "Make quotas + idempotencia",
      "scope": "HMAC ventana 5' dedupe y panel stats",
      "touched_files": ["apps/api/src/middleware/idempotency.ts", "apps/api/src/services/make.service.ts"],
      "tests": ["idempotency", "replay control"],
      "risk": "medium",
      "dependencies": ["PR-29"],
      "completion_pct": 100,
      "blockers": [],
      "decision": "approved"
    }
  ],
  "summary": {
    "total_prs": 86,
    "completed": 23,
    "in_progress": 5,
    "blocked": 58,
    "completion_percentage": 27,
    "risk_distribution": {
      "low": 15,
      "medium": 45,
      "high": 26
    },
    "phase_completion": {
      "fase_0_base": 100,
      "fase_1_operabilidad": 100,
      "fase_2_integraciones": 100,
      "fase_3_operabilidad": 10,
      "fase_4_datos": 0,
      "fase_5_conectores": 0,
      "fase_6_agentes": 0,
      "fase_7_observabilidad": 0,
      "fase_8_fiabilidad": 0,
      "fase_9_azure": 0
    }
  }
}
