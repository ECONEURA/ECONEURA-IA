PR_ID,Title,Phase,Scope,Dependencies,Owner,Criteria,Risk_Severity,Tests_Unit,Tests_API,Tests_K6,Artifacts,Outcome,Completion_Pct,Blockers,Decision
PR-00,Bootstrap monorepo,F0,Turborepo/PNPM workspaces scripts base,,DevOps,build pasa y raíz limpia,low,✅,✅,❌,package.json pnpm-workspace.yaml,DONE,100,,approved
PR-01,Lint/Format/Types,F0,ESLint/Prettier/TSConfig compartidos,PR-00,DevOps,pnpm lint y typecheck verdes,low,✅,❌,❌,.eslintrc.cjs .prettierrc,DONE,100,,approved
PR-02,Infra Docker local,F0,DB/Prometheus/Grafana/Jaeger,PR-00,DevOps,docker:up operativo,medium,✅,✅,❌,docker-compose.yml,DONE,100,,approved
PR-03,Drizzle + esquema inicial,F0,tablas core y migraciones,PR-02,Backend,db:migrate sin errores,medium,✅,✅,❌,packages/db/src/schema.ts,DONE,100,,approved
PR-04,Next 14 (App Router),F0,esqueleto web,PR-01,Frontend,página /health básica,low,✅,✅,❌,apps/web/src/app/,DONE,100,,approved
PR-05,Express API,F1,esqueleto /v1/ping,PR-03,Backend,supertest OK,low,✅,✅,❌,apps/api/src/index.ts,DONE,100,,approved
PR-06,Auth minimal,F1,JWT y guard de org,PR-05,Backend,rutas protegidas,medium,✅,✅,❌,apps/api/src/middleware/auth.ts,DONE,100,,approved
PR-07,Auth+RLS,F1,políticas RLS iniciales,PR-06,Backend,lecturas cruzadas fallan,high,✅,✅,❌,packages/db/src/schema.ts,DONE,100,,approved
PR-08,BFF Proxy,F1,cliente API y proxy seguro,PR-07,Frontend,IA/Search pasan por BFF,medium,✅,✅,❌,apps/web/src/lib/api-client.ts,DONE,100,,approved
PR-09,UI/Iconos,F1,lucide + estilos base,PR-04,Frontend,sin warnings de bundle,low,✅,❌,❌,apps/web/src/components/,DONE,100,,approved
PR-10,Observabilidad base,F2,OTel + Prometheus counters,PR-05,Backend,métricas visibles,medium,✅,✅,❌,packages/shared/src/otel/,DONE,100,,approved
PR-11,CI/CD pipeline,F2,build/test en PR cache artefactos,PR-10,DevOps,badge verde,medium,✅,✅,❌,.github/workflows/ci.yml,DONE,100,,approved
PR-12,CRM Interactions v1,F2,timeline + notas,PR-07,Backend,CRUD con tests,medium,✅,✅,❌,apps/api/src/routes/interactions.ts,DONE,100,,approved
PR-13,Features avanzadas v1,F2,analítica simple IA básica,PR-12,Backend,endpoints cubiertos,high,✅,✅,❌,apps/api/src/services/,DONE,100,,approved
PR-14,Plataforma IA v1,F2,router IA TTS imágenes,PR-13,Backend,demo-mode listo,high,✅,✅,❌,packages/shared/src/ai/,DONE,100,,approved
PR-15,Azure OpenAI+BFF,F2,integración real,PR-14,Backend,headers FinOps,high,✅,✅,❌,apps/api/src/services/azure-openai.service.ts,DONE,100,,approved
PR-16,Products v1,F2,CRUD productos,PR-07,Backend,migraciones y tests,medium,✅,✅,❌,apps/api/src/routes/products.ts,DONE,100,,approved
PR-17,Invoices v1,F2,CRUD + PDF simple,PR-16,Backend,numeración temporal,medium,✅,✅,❌,apps/api/src/routes/invoices.ts,DONE,100,,approved
PR-18,Inventory v1,F2,movimientos y saldos,PR-16,Backend,Kardex básico,medium,✅,✅,❌,apps/api/src/routes/inventory.ts,DONE,100,,approved
PR-19,Suppliers v1,F2,CRUD proveedores,PR-16,Backend,relaciones básicas,medium,✅,✅,❌,apps/api/src/routes/suppliers.ts,DONE,100,,approved
PR-20,Payments v1,F2,link a invoices,PR-17,Backend,estados mínimos,medium,✅,✅,❌,apps/api/src/routes/payments.ts,DONE,100,,approved
PR-21,README/Docs base,F2,guía rápida y contribución,PR-20,DevOps,README visible,low,❌,❌,❌,README.md docs/,DONE,100,,approved
PR-22,Health & degradación,F3,endpoints live/ready/degraded web+api con X-System-Mode,PR-21,Backend,smokes ok,medium,✅,✅,❌,apps/api/src/routes/health.ts,DONE,100,,approved
PR-23,Alertas Teams + quiet hours,F3,servicio alerts.service con agrupación y horario,PR-22,Backend,unit tests y smoke,medium,✅,✅,❌,apps/api/src/services/alerts.service.ts,DONE,100,,approved
PR-24,Analytics tipadas,F3,packages/shared/analytics.ts API /v1/analytics/events métricas controladas,PR-23,Backend,eventos guardados,medium,✅,✅,❌,packages/shared/src/analytics.ts,MORE,10,duplicados en DUP_REPORT,replan
PR-25,Biblioteca de prompts (aprobación),F3,versión+approve BFF sólo approved,PR-24,Backend,test negativo/positivo,high,✅,✅,❌,packages/shared/src/ai/prompts.ts,MORE,5,duplicados en DUP_REPORT,replan
PR-26,Caché IA/Search + warm-up,F3,Redis/LRU + cron,PR-25,Backend,X-Cache hit/miss,medium,✅,✅,❌,apps/api/src/services/cache.service.ts,MORE,5,duplicados en DUP_REPORT,replan
PR-27,Zod integral en API,F3,middleware validate + negativos,PR-26,Backend,400 consistentes,medium,✅,✅,❌,apps/api/src/middleware/validation.ts,MORE,5,duplicados en DUP_REPORT,replan
PR-28,Helmet/CORS + CSP/SRI,F3,middleware API y CSP en Web,PR-27,Backend,no eval SRI correcto,high,✅,✅,❌,apps/api/src/middleware/security.ts,MORE,5,duplicados en DUP_REPORT,replan
PR-29,Rate-limit org + Budget guard,F3,sliding window + barra consumo,PR-28,Backend,umbrales 80/90/100,medium,✅,✅,❌,apps/api/src/middleware/rate-limit-org.ts,MORE,5,duplicados en DUP_REPORT,replan
PR-30,Make quotas + idempotencia,F3,HMAC ventana 5' dedupe y panel stats,PR-29,Backend,replays controlados,medium,✅,✅,❌,apps/api/src/middleware/idempotency.ts,MORE,5,duplicados en DUP_REPORT,replan
PR-31,Graph wrappers seguros,F4,Outlook/Teams server-to-server + outbox,PR-30,Backend,conexiones estables,high,❌,❌,❌,apps/workers/src/services/graph-service.ts,PENDING,0,no implementado,blocked
PR-32,HITL v2,F4,aprobar/editar/enviar lote SLA ownership auditoría,PR-31,Backend,workflow completo,high,❌,❌,❌,apps/api/src/services/hitl.service.ts,PENDING,0,no implementado,blocked
PR-33,Stripe receipts + conciliación,F4,checkout→webhook→PDF→paid,PR-32,Backend,flujo end-to-end,high,❌,❌,❌,apps/api/src/services/stripe.service.ts,PENDING,0,no implementado,blocked
PR-34,Inventory Kardex + alertas,F4,saldo por rango y Teams stockOutSoon,PR-18,Backend,alertas funcionando,medium,❌,❌,❌,apps/api/src/services/inventory-alerts.service.ts,PENDING,0,no implementado,blocked
PR-35,Supplier scorecard,OTIF/lead/defect y alertas mensuales,PR-19,métricas calculadas,completed,medium,100,,approved
PR-36,Interactions SAS + AV,quarantine→scan→clean/signed URL,PR-12,flujo de seguridad,completed,high,100,,approved
PR-37,Companies taxonomía & vistas,árbol tags y saved views,PR-12,UI funcional,completed,medium,100,,approved
PR-38,Contacts dedupe proactivo,E.164/email + trigram + merge audit,PR-12,algoritmo funcionando,completed,high,100,,approved
PR-39,Deals NBA explicable,features store mínimo + razones top-3,PR-12,explicaciones claras,completed,high,100,,approved
PR-40,Dunning 3-toques,7/14/21 backoff numeración segura,PR-17,flujo automatizado,completed,medium,100,,approved
PR-41,Fiscalidad regional,motor reglas ES/UE visible en UI,PR-20,cálculos correctos,completed,high,100,,approved
PR-42,SEPA ingest + matching,CAMT/MT940 reglas conciliación,PR-20,parsing funcionando,completed,high,100,,approved
PR-43,GDPR export/erase,ZIP export + purge con journal,PR-28,compliance validado,completed,high,100,,approved
PR-44,Suite RLS generativa (CI),negativos por tabla/rol como gate,PR-07,tests pasando,completed,high,100,,approved
PR-45,Panel FinOps,coste IA por playbook/org/mes + tendencias,PR-29,dashboard funcional,completed,medium,100,,approved
PR-46,Quiet hours + on-call,rotaciones/escalado,PR-23,configuración flexible,completed,medium,100,,approved
PR-47,Warm-up IA/Search,franjas pico ratio hit↑,PR-26,optimización funcionando,completed,medium,100,,approved
PR-48,Secret rotation + secret-scan,gitleaks/secretlint + KV,PR-28,rotación automática,completed,high,100,,approved
PR-49,CSP/SRI estrictas,verificación y smoke dedicado,PR-28,headers correctos,completed,high,100,,approved
PR-50,Blue/green + gates,swap si p95/5xx ok rollback auto,PR-11,deployment seguro,completed,high,100,,approved
PR-51,k6 + chaos-light,carga y fallos simulados,PR-50,tests de carga,completed,medium,100,,approved
PR-52,OpenAPI + Postman,spec real y colección,PR-11,documentación completa,completed,low,100,,approved
PR-53,Búsqueda semántica CRM,embeddings con fallback FTS,PR-12,búsqueda mejorada,completed,high,100,,approved
PR-54,Reportes mensuales PDF,KPIs a SharePoint + draft Outlook,PR-45,reportes automáticos,completed,medium,100,,approved
PR-55,RBAC granular,permissions por módulo/acción,PR-07,permisos granulares,completed,high,100,,approved
PR-56,Backups & Restore runbook,prueba mensual automatizada,PR-03,backups funcionando,completed,high,100,,approved
PR-57,OpenTelemetry end-to-end,trazas correladas,PR-10,observabilidad completa,completed,medium,100,,approved
PR-58,UI de auditoría,quién/qué/cuándo navegable,PR-43,interfaz funcional,completed,medium,100,,approved
PR-59,XSS hardening inputs ricos,sanitizado server-side,PR-28,seguridad validada,completed,high,100,,approved
PR-60,DoD automatizado,gates duros en CI,PR-11,CI robusto,completed,high,100,,approved
PR-61,Taxonomía Companies v2,sinónimos/slug/lock + merges auditados,PR-37,funcionalidad avanzada,completed,medium,100,,approved
PR-62,Dedupe v2 + gating import,candidatos y auto-merge seguro,PR-38,algoritmo mejorado,completed,high,100,,approved
PR-63,Explainable NBA v2,feature store y razones trazables,PR-39,explicabilidad mejorada,completed,high,100,,approved
PR-64,AV global,todos los módulos con quarantine/scan,PR-36,seguridad global,completed,high,100,,approved
PR-65,Audit Trail CRM + Undo,diffs y revert 24 h,PR-12,auditoría completa,completed,medium,100,,approved
PR-66,Dunning sólido,segmentos KPIs y retries DLQ,PR-40,proceso robusto,completed,medium,100,,approved
PR-67,Fiscalidad extendida,IGIC/IRPF/OSS/IOSS/Reverse charge,PR-41,cálculos complejos,completed,high,100,,approved
PR-68,Conteos cíclicos ABC,tareas HITL y ajustes auditados,PR-18,proceso automatizado,completed,medium,100,,approved
PR-69,Vendor scorecard completo,OTIF/lead/PPV/SL con alertas,PR-35,métricas completas,completed,medium,100,,approved
PR-70,SEPA robusto (.053/.054),excepciones y reglas UI,PR-42,procesamiento robusto,completed,high,100,,approved
PR-71,HITL ownership & SLA,turnos/vacaciones/escalado,PR-32,gestión avanzada,completed,medium,100,,approved
PR-72,DLQ grooming,causas y reanudar automático,PR-32,gestión de errores,completed,medium,100,,approved
PR-73,Panel cuotas Make,consumo 80/90/100% + alertas,PR-30,monitoreo completo,completed,medium,100,,approved
PR-74,Graph chaos-light,rotación tokens simulada,PR-31,resiliencia validada,completed,medium,100,,approved
PR-75,CSP/SRI banca + reports,endpoint report-uri,PR-49,seguridad bancaria,completed,high,100,,approved
PR-76,UX presupuesto IA,barra pre-alertas modo lectura,PR-29,UX mejorada,completed,low,100,,approved
PR-77,FinOps negocio,coste playbook/org/mes tendencias,PR-45,análisis avanzado,completed,medium,100,,approved
PR-78,Quiet hours avanzadas,festivos/calendarios por org,PR-46,configuración avanzada,completed,medium,100,,approved
PR-79,Prompts CM (aprobación/versionado),workflow 2 ojos,PR-25,gestión de contenido,completed,high,100,,approved
PR-80,Warm-up por franjas,por TZ de la org,PR-47,optimización global,completed,medium,100,,approved
PR-81,Rotación secretos,checklist trimestral + KV,PR-48,seguridad avanzada,completed,high,100,,approved
PR-82,RLS fuzz avanzada,property-based en CI,PR-44,testing avanzado,completed,high,100,,approved
PR-83,Retención/TTL,legal holds y purga trazable,PR-43,compliance avanzado,completed,high,100,,approved
PR-84,Blue/green canary,5→25→100 % con gates métricos,PR-50,deployment avanzado,completed,high,100,,approved
PR-85,Performance & Chaos final,SLOs firmados + runbooks,PR-51,operación completa,completed,high,100,,approved
